OBJECT Table 50004 Payroll-Periods.
{
  OBJECT-PROPERTIES
  {
    Date=20291015D;
    Time=163131T;
    Modified=true;
    Version List=CBU Ver. 1.00;
  }
  PROPERTIES
  {
    LookupPageID="Payroll Periods.";
  }
  FIELDS
  {
    { 1   ;   ;Period Code         ;Code10        ;AltSearchField=Search Name;
                                                   OnValidate=BEGIN
                                                                {
                                                                IF (1 < CursorPos) AND (CursorPos < MAXSTRLEN(Name)) THEN
                                                                BEGIN
                                                                  Name := DELCHR (COPYSTR("Period Code", CursorPos),'<>');
                                                                  Name := PADSTR (Name + ' ' + DELCHR (COPYSTR("Period Code", 1, CursorPos-1), '<>'), MAXSTRLEN(Name));
                                                                END
                                                                ELSE
                                                                  Name := "Period Code";
                                                                Name := DELCHR (Name, '<');
                                                                "Search Name" := Name;
                                                                }
                                                              END;

                                                   NotBlank=true }
    { 2   ;   ;Start Date          ;Date          ;OnValidate=BEGIN
                                                                if Name = '' then
                                                                 Name := Format("Start Date",0,'<MONTH TEXT>, <YEAR4>');
                                                              END;

                                                   NotBlank=true }
    { 3   ;   ;End Date            ;Date          ;NotBlank=true }
    { 4   ;   ;Name                ;Text40        ;OnValidate=BEGIN
                                                                if (1 < CursorPos) and (CursorPos < MaxStrLen("Search Name")) then
                                                                begin
                                                                  "Search Name" := DelChr (CopyStr(Name, CursorPos),'<>');
                                                                  "Search Name" := PadStr ("Search Name" + ' ' + DelChr (CopyStr(Name, 1, CursorPos-1), '<>'), MaxStrLen("Search Name"));
                                                                end
                                                                else
                                                                  "Search Name" := Name;
                                                              END;

                                                   Title=true }
    { 5   ;   ;Closed              ;Boolean       ;Editable=false }
    { 6   ;   ;Search Name         ;Code20         }
    { 7   ;   ;ED Delimitation     ;Code20        ;FieldClass=FlowFilter;
                                                   TableRelation="Payroll-E/D Codes." }
    { 8   ;   ;Empl. Delimitation  ;Code20        ;FieldClass=FlowFilter;
                                                   TableRelation="Loan." }
    { 9   ;   ;EDAmount            ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Payroll-Payslip Lines.".Amount WHERE ("Payroll Period"=FIELD("Period Code"),
                                                                                                          "Employee No"=FIELD("ED Delimitation"),
                                                                                                          "E/D Code"=FIELD("Empl. Delimitation")));
                                                   DecimalPlaces=0:5 }
  }
  KEYS
  {
    {    ;"Period Code"                           ;Clustered=true }
    {    ;"Search Name"                            }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      CursorPos@1000000000 : Integer;

    BEGIN
    {
      Created           : FTN 8/3/93
      File Name         : KI03 - P.Roll Period (1006)
      Comments          : Payroll periods are created and stored in this file.
      File details      : Primary Key;
                           Code
                        : Relations - None
    }
    END.
  }
}

