OBJECT Modification Location(Table 14)
{
  OBJECT-PROPERTIES
  {
    Date=20240319D;
    Time=120000T;
    Version List=NAVW114.00;
  }
  PROPERTIES
  {
    Target=Location(Table 14);
  }
  CHANGES
  {
    { Insertion         ;InsertAfter="Use ADCS"(Field 7700);
                         ChangedElements=FieldCollection
                         {
                           { 50300;  ;Location Type       ;Option        ;OnValidate=BEGIN
                                                                                       if "Location Type"=0 then "Sea Days":=0;
                                                                                       if "Location Type"=1 then "FA Code":=Code;
                                                                                     END;

                                                                          OptionString=" ",Vessel,Store,Residence,Cars,WS,Others }
                           { 50301;  ;Sea Days            ;Option        ;OnValidate=BEGIN
                                                                                       if ("Sea Days">0) then TestField("Location Type");
                                                                                     END;

                                                                          OptionString=" ","40","45","60" }
                           { 50302;  ;Voyage Sea Days     ;Decimal       ;OnValidate=BEGIN
                                                                                       VSDVal:=Location."Voyage Sea Days";
                                                                                     END;

                                                                          Editable=false }
                           { 50303;  ;Current Operation   ;Code10        ;TableRelation=Job WHERE (Vessel=FIELD(Code));
                                                                          OnValidate=BEGIN
                                                                                       if JobsOper.Get("Current Operation") then
                                                                                       "Current Voyage":=JobsOper."Voyage No.";
                                                                                       ETD:=JobsOper."Starting Date";
                                                                                       ETA:=JobsOper."Ending Date";
                                                                                     END;
                                                                                      }
                           { 50304;  ;Current Voyage      ;Code10         }
                           { 50305;  ;VSDVal              ;Decimal       ;Description=Voyage Sea Day Value: For Report Sorting Purpose;
                                                                          Editable=true }
                           { 50326;  ;Shortcut Dimension 2 Code;Code20   ;TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(2));
                                                                          OnValidate=BEGIN
                                                                                       //ValidateShortcutDimCode(2,"Shortcut Dimension 2 Code");
                                                                                       //MODIFY;
                                                                                       //AAA-Nov2001
                                                                                       //UpdateTransLines(FIELDNO("Shortcut Dimension 2 Code"));
                                                                                       if "Location Type"=0 then TestField("Shortcut Dimension 2 Code",'');
                                                                                     END;

                                                                          CaptionML=ENU=Shortcut Dimension 2 Code;
                                                                          CaptionClass='1,2,2' }
                           { 50327;  ;Values              ;Decimal       ;FieldClass=FlowField;
                                                                          CalcFormula=Sum("Comment Line"."Days Lost" WHERE ("Table Name"=CONST(Job),
                                                                                                                            Vessel=FIELD(Code),
                                                                                                                            Date=FIELD("date filter"),
                                                                                                                            "Day Lost Cause"=FIELD("Location Filter"),
                                                                                                                            Type=CONST(Narration))) }
                           { 50328;  ;date filter         ;Date          ;FieldClass=FlowFilter }
                           { 50329;  ;Location Filter     ;Code20        ;FieldClass=FlowFilter;
                                                                          TableRelation=Location }
                           { 50330;  ;Lost Day Cause Filter;Code20       ;FieldClass=FlowFilter;
                                                                          TableRelation="Lost Days" }
                           { 50331;  ;Global Dimension 1 Filter;Code20   ;TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(1));
                                                                          NotBlank=true;
                                                                          CaptionClass='1,3,1' }
                           { 50332;  ;Global Dimension 2 Filter;Code20   ;TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(2));
                                                                          NotBlank=true;
                                                                          CaptionClass='1,3,2' }
                           { 50333;  ;FA Code             ;Code10        ;TableRelation="Fixed Asset" }
                           { 50335;  ;Voyage Filter       ;Code20        ;FieldClass=FlowFilter;
                                                                          TableRelation=Job."Voyage No." }
                           { 50340;  ;Lst Ovh             ;Date           }
                           { 50341;  ;Lst Ddk             ;Date           }
                           { 50342;  ;xx1                 ;Date           }
                           { 50343;  ;Deratg              ;Date          ;Description=Derating Certificate }
                           { 50344;  ;Rad Tel             ;Date          ;Description=Radio Telephony }
                           { 50345;  ;Str Lic             ;Date          ;Description=Storage License }
                           { 50346;  ;Life Rf             ;Date          ;Description=Life Rafts }
                           { 50347;  ;Fom Ext             ;Date          ;Description=Foam Extinguisher }
                           { 50348;  ;Pow Ext             ;Date          ;Description=Powder Extinguisher }
                           { 50349;  ;CO2 Ext             ;Date          ;Description=CO2 Extinguisher }
                           { 50350;  ;ETD                 ;Date          ;Description=Expected Departure Date }
                           { 50351;  ;ETA                 ;Date          ;Description=Expected Arrival Date }
                           { 50352;  ;Nxt Ovh             ;Date           }
                           { 50353;  ;Nxt Ddk             ;Date           }
                           { 50354;  ;xx2                 ;Date           }
                           { 50355;  ;Life Jacket         ;Date           }
                           { 50356;  ;Life Buoy           ;Date           }
                           { 50357;  ;Parchut             ;Date          ;Description=Parachute }
                           { 50358;  ;R Flare             ;Date          ;Description=Red Hand Flare }
                           { 50359;  ;Store Taking        ;Date           }
                           { 50360;  ;Crew Briefing       ;Date           }
                           { 50361;  ;Location Group      ;Integer        }
                           { 50370;  ;Captain             ;Code20         }
                           { 50373;  ;Brnd Pk             ;Code10        ;TableRelation="Reason Code" WHERE ("In Use"=CONST(true),
                                                                                                             Type=CONST(Brands)) }
                           { 50374;  ;Inner P             ;Code10         }
                           { 50375;  ;Grades              ;Code10         }
                           { 50376;  ;Crab CW             ;Code10         }
                           { 50377;  ;WT GL/W             ;Code10         }
                           { 50378;  ;Batch               ;Code10         }
                           { 50380;  ;E.U. No             ;Code10         }
                           { 50390;  ;Ves Age             ;Integer        }
                           { 50400;  ;Fsh Ins             ;Date           }
                           { 50410;  ;Fsh Dst             ;Date           }
                           { 50420;  ;Ins Sur             ;Date           }
                           { 50421;  ;Dst Sur             ;Date           }
                           { 50422;  ;Last Rep Operation No.;Code10      ;Description=Max("Job Ledger Entry"."Catch Sea Days" WHERE (Job No.=FIELD(Current Operation),Location Code=FIELD(Code),Posting Date=FIELD(date filter))) }
                           { 50423;  ;Voyage Sea Days2    ;Decimal       ;OnValidate=BEGIN
                                                                                       VSDVal:=Location."Voyage Sea Days";
                                                                                     END;

                                                                          Description=For Report| to be able to reports catchs on Closed voyages;
                                                                          Editable=false }
                           { 50425;  ;Voyage Sea Any Time ;Decimal       ;OnValidate=BEGIN
                                                                                       VSDVal:=Location."Voyage Sea Days";
                                                                                     END;

                                                                          Description=For Report| to be able to reports catchs on Closed voyages;
                                                                          Editable=false }
                           { 50426;  ;Last Rep Operation No. Val;Code10  ;Description=Value }
                           { 50430;  ;Last Reportd Vessel Pts;Decimal    ;Description=From Daily break Up by Vessel Report. }
                           { 50431;  ;Last Reportd Shrimps Pts;Decimal   ;Description=From Daily break Up by Vessel Report. }
                           { 50468;  ;Inventory           ;Decimal       ;FieldClass=FlowField;
                                                                          CalcFormula=Sum("Value Entry"."Valued Quantity" WHERE ("Location Code"=FIELD(Code),
                                                                                                                                 "Posting Date"=FIELD("date filter"),
                                                                                                                                 "Source Code"=FIELD("Source Code Filter")));
                                                                          DecimalPlaces=0:5;
                                                                          Editable=false }
                           { 50490;  ;Source Code Filter  ;Code20        ;FieldClass=FlowFilter;
                                                                          TableRelation="Source Code" }
                           { 50491;  ;ExpCode             ;Code10        ;Description=Export Code: Flor report Purpose }
                           { 50500;  ;Insurance Rate      ;Decimal       ;Description=Voyage P&L :Daily rate per Boat }
                           { 50501;  ;Depreciation Rate   ;Decimal       ;Description=Voyage P&L :Daily rate per Boat }
                           { 50502;  ;Interest Rate       ;Decimal       ;Description=Voyage P&L :Daily rate per Boat }
                           { 50503;  ;Begining ETA        ;Date          ;Description=Voyage P&L :Cycle Day Calculation }
                           { 50510;  ;Fishing Area        ;Code10        ;Editable=false }
                           { 50511;  ;Vessel Endurance    ;Decimal        }
                           { 50520;  ;Qty to Cold Room    ;Decimal       ;DecimalPlaces=0:5;
                                                                          Description=Voyage comparison Report 50191;
                                                                          Editable=false }
                           { 50521;  ;Qty Budgeted        ;Decimal       ;DecimalPlaces=0:5;
                                                                          Description=Voyage comparison Report 50191;
                                                                          Editable=false }
                           { 50522;  ;Port Captain        ;Text30        ;TableRelation=Resource WHERE ("Resource Group No."=CONST('PCAP'));
                                                                          Description=Daily Pts Report }
                           { 50523;  ;Budgeted Voyages    ;Integer       ;Description=No of budgeted Voy for the Year :Rep 50022 }
                           { 50524;  ;Catch Date          ;Date           }
                         }
                          }
    { Insertion         ;InsertAfter="Use As In-Transit","Bin Mandatory"(Key);
                         ChangedElements=KeyCollection
                         {
                           { false;"Lst Ovh"                              }
                           { false;"Lst Ddk"                              }
                           { false;"Nxt Ovh"                              }
                           { false;"Nxt Ddk"                              }
                           { false;xx1                                    }
                           { false;"CO2 Ext"                              }
                           { false;Deratg                                 }
                           { false;"Str Lic"                              }
                           { false;"Pow Ext"                              }
                           {    ;ETD                                      }
                           {    ;ETA                                      }
                           { false;"Life Jacket"                          }
                           { false;"Life Buoy"                            }
                           { false;"Life Rf"                              }
                           { false;Parchut                                }
                           { false;"Fom Ext"                              }
                           { false;xx2                                    }
                           { false;"Crew Briefing"                        }
                           { false;"R Flare"                              }
                           {    ;VSDVal                                   }
                           {    ;"Last Reportd Vessel Pts"                }
                         }
                          }
    { Insertion         ;InsertAfter=GetLocationsIncludingUnspecifiedLocation(PROCEDURE 14);
                         ChangedElements=PROCEDURECollection
                         {
                           [LineStart(751)]
                           PROCEDURE "--------------------"@1000000000();
                           BEGIN
                           END;

                           [LineStart(754)]
                           PROCEDURE Captain@1000000001(Vessel@1000000000 : Code[10]) : Code[10];
                           VAR
                             Job@1000000001 : Record Job;
                           BEGIN
                             Job.SetCurrentKey(Vessel,Status);
                             Job.SetRange(Job.Vessel,Vessel);
                             if Job.Find('+') then
                               exit(Job."No.")
                             else
                               exit('');
                           END;

                           [LineStart(762)]
                           PROCEDURE LastRepOpNo@1000000002(LocFilter@1000000005 : Text[100];DateFilter@1000000004 : Text[100]) : Code[10];
                           VAR
                             JobLedgEntry@1000000000 : Record "Job Ledger Entry";
                           BEGIN
                             JobLedgEntry.SetCurrentKey("Job No.","Location Code","Posting Date");
                             if LocFilter <> '' then
                               JobLedgEntry.SetFilter(JobLedgEntry."Location Code",'%1',LocFilter);
                             if DateFilter <> '' then
                               JobLedgEntry.SetFilter(JobLedgEntry."Posting Date",DateFilter);
                             if JobLedgEntry.Find('+') then
                               exit(JobLedgEntry."Job No.")
                             else
                               exit('');
                           END;

                           [LineStart(773)]
                           PROCEDURE VoySeaAnyTime@1000000003(JobNo@1000000002 : Code[10];LocFilter@1000000001 : Text[100];DateFilter@1000000000 : Text[100]) : Decimal;
                           VAR
                             JobLedgEntry@1000000003 : Record "Job Ledger Entry";
                           BEGIN
                             JobLedgEntry.SetCurrentKey("Job No.","Location Code","Posting Date");
                             JobLedgEntry.SetFilter(JobLedgEntry."Job No.",JobNo);
                             if LocFilter <> '' then
                               JobLedgEntry.SetFilter(JobLedgEntry."Location Code",LocFilter);
                             if DateFilter <> '' then
                               JobLedgEntry.SetFilter(JobLedgEntry."Posting Date",DateFilter);
                             if JobLedgEntry.Find('+') then
                               exit(JobLedgEntry."Catch Sea Days")
                             else
                               exit(0);
                           END;

                           [LineStart(785)]
                           PROCEDURE FishingArea@1000000005(JobNo@1000000002 : Code[10];LocFilter@1000000001 : Text[100];DateFilter@1000000000 : Text[100]) : Code[10];
                           VAR
                             JobLedgEntry@1000000003 : Record "Job Ledger Entry";
                           BEGIN
                             JobLedgEntry.SetCurrentKey("Job No.","Location Code","Posting Date");
                             JobLedgEntry.SetFilter(JobLedgEntry."Job No.",JobNo);
                             if LocFilter <> '' then
                               JobLedgEntry.SetFilter(JobLedgEntry."Location Code",LocFilter);
                             if DateFilter <> '' then
                               JobLedgEntry.SetFilter(JobLedgEntry."Posting Date",DateFilter);
                               exit('');
                           END;

                         }
                          }
    { PropertyModification;
                         Target=UnspecifiedLocationLbl(Variable 1020);
                         Property=Id;
                         OriginalValue=1020;
                         ModifiedValue=1024 }
    { Insertion         ;InsertAfter=Text014(Variable 1019);
                         ChangedElements=VariableCollection
                         {
                           JobsOper@1020 : Record Job;
                         }
                          }
  }
  CODE
  {

    BEGIN
    END.
  }
}

